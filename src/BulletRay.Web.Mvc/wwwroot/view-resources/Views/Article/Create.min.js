function GetSelectData(){$.ajax({url:abp.appPath+"ArticleCategory/GetArticleCategorySelectData",type:"GET",data:"isOpenShown=true",contentType:"application/json",success:function(n){var t="";$.each(n,function(n,i){var r=i.isSelected?"selected":"";t+="<option data-subtext="+i.desc+" value="+i.id+r+">"+i.name+"<\/option>"});$("#categorySelect").append(t);$("#categorySelect").selectpicker("refresh")},error:function(){}})}function InitTinyMce(){tinymce.init({selector:"#tinyMce",theme:"modern",height:300,plugins:["advlist autolink lists link image charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen","insertdatetime media nonbreaking save table contextmenu directionality","emoticons template paste textcolor colorpicker textpattern imagetools"],toolbar1:"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image",toolbar2:"print preview media | forecolor backcolor emoticons",image_advtab:!0,language:"zh_CN"});tinymce.suffix=".min"}function InitFileInput(){$("#inputAttachment").fileinput({uploadAsync:!1,maxFileSize:102400,language:"zh",theme:"fa",allowedFileExtensions:["jpg","png","jpeg","zip"],showUpload:!1,showCaption:!1,browseClass:"btn btn-sm btn-primary",fileActionSettings:{showRemove:!0,showUpload:!1,showZoom:!1},uploadUrl:"#",dropZoneTitle:"添加文章封面图片!! 拖拽文件到这里, 只支持 jpg, png, jpeg, zip的文件!"})}function InitTypeahead(){var n=$("#tagUrl").val()+"?start=0&length=20&tagKeyStr=%QUERY",t=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("TagName"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:n,wildcard:"%QUERY"}});$("#typeaheadTag").typeahead(null,{name:"tag",display:"TagName",source:t,limit:20}).on("typeahead:select",function(n,t){$("#tagDiv").append(t.TagName);$("#tagStr").val($("#tagStr").val()+t.TagName)});$("#typeaheadTag").on("keydown",function(n){var t=n||window.event,i=t.which||t.keyCode||t.charCode;i==13&&($("#tagDiv").append($(this).val()),$(this).val(""))})}$(function(){GetSelectData();InitFileInput();InitTinyMce();InitTypeahead()});