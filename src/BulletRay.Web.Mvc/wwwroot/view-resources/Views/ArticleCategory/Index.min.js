function InitTable(){var n=$("#resultTable").dataTable({serverSide:!0,ordering:!0,ajax:{url:$("#articleCategoryForm")[0].action,type:"post",contentType:"application/json; charset=utf-8",data:function(n){var t=$("#articleCategoryForm").serializeArray();return $.each(t,function(t,i){n[i.name]=i.value}),JSON.stringify(n)}},lengthMenu:[5,10,25,50,75,100],pageLength:10,processing:!0,searching:!1,language:{processing:"加载中...",lengthMenu:"每页显示 _MENU_ 条数据",zeroRecords:"没有匹配结果",info:"显示第 _START_ 至 _END_ 项结果，共 _TOTAL_ 项",infoEmpty:"显示第 0 至 0 项结果，共 0 项",infoFiltered:"(由 _MAX_ 项结果过滤)",infoPostFix:"",emptyTable:"没有匹配结果",loadingRecords:"载入中...",thousands:",",paginate:{first:"首页",previous:"上一页",next:"下一页",last:"末页"}},columns:[{data:"id","class":"align-center"},{data:"name","class":"align-center"},{data:"desc","class":"align-center"},{data:"creationTime","class":"align-center",render:function(n){return new Date(n).toLocaleString("zh-cn",{hour12:!1})}},{data:"lastModificationTime","class":"align-center",render:function(n){return n===null?"无数据":new Date(n).toLocaleString("zh-cn",{hour12:!1})}},{data:"isOpenShown","class":"align-center",render:function(n,t,i){var r=n?"checked":"";return"<input class='filled-in chk-col-teal' id="+i.id+"IsOpenShwon type = 'checkbox' value = 'true' "+r+" disabled /><label for="+i.id+"IsOpenShwon />"}}],columnDefs:[{targets:6,data:"id","class":"dropdown align-center",render:function(n,t,i){return"<a href='#' class='dropdown-toggle' data-toggle='dropdown' role='button' aria-haspopup='true' aria-expanded='false'><i class='material-icons'>menu<\/i><\/a><ul class='dropdown-menu pull-right'><li><a href='#' class='waves-effect waves-block edit-articlecategory' data-articlecategory-id='"+n+"' data-toggle='modal' data-target='#EditArticleCategoryModal'><i class='material-icons'>edit<\/i>编辑<\/a><\/li><li><a href='#' class='waves-effect waves-block delete-articlecategory' data-articlecategory-id='"+n+"' data-articlecategory-name='"+i.name+"'><i class='material-icons'>delete_sweep<\/i>删除<\/a><\/li><\/ul>"}}]});$("#btnSearch").on("click",function(){$("#btnSearch").button("loading");n.api().ajax.reload()})}$(function(){var n=abp.services.app.articleCategory;$("#btnCreate").click(function(){$(".page-loader-wrapper").show();$.ajax({url:abp.appPath+"ArticleCategory/Create",type:"GET",contentType:"application/html",success:function(n){$(".page-loader-wrapper").hide();$("#CreateArticleCategoryModal div.modal-content").html(n)},error:function(){}})});InitTable();$("#resultTable").on("xhr.dt",function(){$("#btnSearch").button("reset")});$("#btnExport").on("click",function(){$("#btnExport").button("loading");var n=new XMLHttpRequest;n.open("get",$(this).data("url")+"?"+$("#articleCategoryForm").serialize(),!0);n.responseType="blob";n.onload=function(){if($("#btnExport").button("reset"),n.status===200){var i=new Blob([n.response],{type:"application/vnd.ms-excel"}),r=URL.createObjectURL(i),t=document.createElement("a");t.href=r;t.download="ArticleCategory"+Date.now()+".xlsx";document.body.appendChild(t);t.click()}else abp.message.alert("导出Excel失败！")};n.send()});$("#resultTable").on("click",".edit-articlecategory",function(n){$(".page-loader-wrapper").show();var t=$(this).data("articlecategory-id");n.preventDefault();$.ajax({url:abp.appPath+"ArticleCategory/Edit?articleCategoryId="+t,type:"get",contentType:"application/html",success:function(n){$(".page-loader-wrapper").hide();$("#EditArticleCategoryModal div.modal-content").html(n)},error:function(){}})});$("#resultTable").on("click",".delete-articlecategory",function(){var t=$(this).data("articlecategory-id"),i=$(this).data("articlecategory-name");abp.message.confirm("确认删除文章分类 "+i+" ?",function(i){i&&n.delete({id:t}).done(function(){location.reload(!0)})})})});